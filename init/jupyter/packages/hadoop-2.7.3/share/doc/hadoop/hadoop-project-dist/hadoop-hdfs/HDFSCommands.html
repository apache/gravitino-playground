<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at 2016-08-18 -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Apache Hadoop 2.7.3 &#x2013; HDFS Commands Guide</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20160818" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      </head>
  <body class="composite">
    <div id="banner">
                  <a href="http://hadoop.apache.org/" id="bannerLeft">
                                        <img src="http://hadoop.apache.org/images/hadoop-logo.jpg" alt="" />
                </a>
                        <a href="http://www.apache.org/" id="bannerRight">
                                        <img src="http://www.apache.org/images/asf_logo_wide.png" alt="" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                <div class="xleft">
                          <a href="http://www.apache.org/" class="externalLink">Apache</a>
                &gt;
                      <a href="http://hadoop.apache.org/" class="externalLink">Hadoop</a>
                &gt;
                      <a href="../">Apache Hadoop Project Dist POM</a>
                &gt;
                Apache Hadoop 2.7.3
                </div>
            <div class="xright">            <a href="http://wiki.apache.org/hadoop" class="externalLink">Wiki</a>
            |
                <a href="https://git-wip-us.apache.org/repos/asf/hadoop.git" class="externalLink">git</a>
            |
                <a href="http://hadoop.apache.org/" class="externalLink">Apache Hadoop</a>
              
                                &nbsp;| Last Published: 2016-08-18
              &nbsp;| Version: 2.7.3
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                <h5>General</h5>
                  <ul>
                  <li class="none">
                  <a href="../../index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/SingleCluster.html">Single Node Setup</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/ClusterSetup.html">Cluster Setup</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CommandsManual.html">Hadoop Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/FileSystemShell.html">FileSystem Shell</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Compatibility.html">Hadoop Compatibility</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/InterfaceClassification.html">Interface Classification</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/filesystem/index.html">FileSystem Specification</a>
            </li>
          </ul>
                       <h5>Common</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CLIMiniCluster.html">CLI Mini Cluster</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/NativeLibraries.html">Native Libraries</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Superusers.html">Proxy User</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/RackAwareness.html">Rack Awareness</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/SecureMode.html">Secure Mode</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/ServiceLevelAuth.html">Service Level Authorization</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/HttpAuthentication.html">HTTP Authentication</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-kms/index.html">Hadoop KMS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Tracing.html">Tracing</a>
            </li>
          </ul>
                       <h5>HDFS</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html">HDFS User Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSCommands.html">HDFS Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html">High Availability With QJM</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithNFS.html">High Availability With NFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/Federation.html">Federation</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ViewFs.html">ViewFs Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">HDFS Snapshots</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsDesign.html">HDFS Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsEditsViewer.html">Edits Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsImageViewer.html">Image Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html">Permissions and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html">Quotas and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/Hftp.html">HFTP</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/LibHdfs.html">C API libhdfs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/WebHDFS.html">WebHDFS REST API</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-hdfs-httpfs/index.html">HttpFS Gateway</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ShortCircuitLocalReads.html">Short Circuit Local Reads</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/CentralizedCacheManagement.html">Centralized Cache Management</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsNfsGateway.html">HDFS NFS Gateway</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html">HDFS Rolling Upgrade</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ExtendedAttributes.html">Extended Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/TransparentEncryption.html">Transparent Encryption</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsMultihoming.html">HDFS Support for Multihoming</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html">Archival Storage, SSD & Memory</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/MemoryStorage.html">Memory Storage Support</a>
            </li>
          </ul>
                       <h5>MapReduce</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html">MapReduce Tutorial</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredCommands.html">MapReduce Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduce_Compatibility_Hadoop1_Hadoop2.html">Compatibilty between Hadoop 1.x and Hadoop 2.x</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/EncryptedShuffle.html">Encrypted Shuffle</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/PluggableShuffleAndPluggableSort.html">Pluggable Shuffle/Sort</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/DistributedCacheDeploy.html">Distributed Cache Deploy</a>
            </li>
          </ul>
                       <h5>MapReduce REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredAppMasterRest.html">MR Application Master</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-hs/HistoryServerRest.html">MR History Server</a>
            </li>
          </ul>
                       <h5>YARN</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YARN.html">YARN Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/CapacityScheduler.html">Capacity Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/FairScheduler.html">Fair Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRestart.html">ResourceManager Restart</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html">ResourceManager HA</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeLabel.html">Node Labels</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WebApplicationProxy.html">Web Application Proxy</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html">YARN Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WritingYarnApplications.html">Writing YARN Applications</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnCommands.html">YARN Commands</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerRestart.html">NodeManager Restart</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnApplicationSecurity.html">YARN Application Security</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/DockerContainerExecutor.html">DockerContainerExecutor</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerCgroups.html">Using CGroups</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/SecureContainer.html">Secure Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/registry/index.html">Registry</a>
            </li>
          </ul>
                       <h5>YARN REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WebServicesIntro.html">Introduction</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html">Resource Manager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerRest.html">Node Manager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html#Timeline_Server_REST_API_v1">Timeline Server</a>
            </li>
          </ul>
                       <h5>Hadoop Compatible File Systems</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-aws/tools/hadoop-aws/index.html">Amazon S3</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-azure/index.html">Azure Blob Storage</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-openstack/index.html">OpenStack Swift</a>
            </li>
          </ul>
                       <h5>Auth</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-auth/index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/Examples.html">Examples</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/Configuration.html">Configuration</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/BuildingIt.html">Building</a>
            </li>
          </ul>
                       <h5>Tools</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-streaming/HadoopStreaming.html">Hadoop Streaming</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-archives/HadoopArchives.html">Hadoop Archives</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-distcp/DistCp.html">DistCp</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-gridmix/GridMix.html">GridMix</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-rumen/Rumen.html">Rumen</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-sls/SchedulerLoadSimulator.html">Scheduler Load Simulator</a>
            </li>
          </ul>
                       <h5>Reference</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/releasenotes.html">Release Notes</a>
            </li>
                  <li class="none">
                  <a href="../../api/index.html">API docs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CHANGES.txt">Common CHANGES.txt</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/CHANGES.txt">HDFS CHANGES.txt</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-mapreduce/CHANGES.txt">MapReduce CHANGES.txt</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-yarn/CHANGES.txt">YARN CHANGES.txt</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Metrics.html">Metrics</a>
            </li>
          </ul>
                       <h5>Configuration</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/core-default.xml">core-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/hdfs-default.xml">hdfs-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/mapred-default.xml">mapred-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-common/yarn-default.xml">yarn-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/DeprecatedProperties.html">Deprecated Properties</a>
            </li>
          </ul>
                                 <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="./images/logos/maven-feather.png"/>
        </a>
                       
                            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- -
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file. --><h1>HDFS Commands Guide</h1>

<ul>
  
<li><a href="#Overview">Overview</a></li>
  
<li><a href="#User_Commands">User Commands</a>
  
<ul>
    
<li><a href="#classpath">classpath</a></li>
    
<li><a href="#dfs">dfs</a></li>
    
<li><a href="#fetchdt">fetchdt</a></li>
    
<li><a href="#fsck">fsck</a></li>
    
<li><a href="#getconf">getconf</a></li>
    
<li><a href="#groups">groups</a></li>
    
<li><a href="#lsSnapshottableDir">lsSnapshottableDir</a></li>
    
<li><a href="#jmxget">jmxget</a></li>
    
<li><a href="#oev">oev</a></li>
    
<li><a href="#oiv">oiv</a></li>
    
<li><a href="#oiv_legacy">oiv_legacy</a></li>
    
<li><a href="#snapshotDiff">snapshotDiff</a></li>
    
<li><a href="#version">version</a></li>
  </ul></li>
  
<li><a href="#Administration_Commands">Administration Commands</a>
  
<ul>
    
<li><a href="#balancer">balancer</a></li>
    
<li><a href="#cacheadmin">cacheadmin</a></li>
    
<li><a href="#crypto">crypto</a></li>
    
<li><a href="#datanode">datanode</a></li>
    
<li><a href="#dfsadmin">dfsadmin</a></li>
    
<li><a href="#haadmin">haadmin</a></li>
    
<li><a href="#journalnode">journalnode</a></li>
    
<li><a href="#mover">mover</a></li>
    
<li><a href="#namenode">namenode</a></li>
    
<li><a href="#nfs3">nfs3</a></li>
    
<li><a href="#portmap">portmap</a></li>
    
<li><a href="#secondarynamenode">secondarynamenode</a></li>
    
<li><a href="#storagepolicies">storagepolicies</a></li>
    
<li><a href="#zkfc">zkfc</a></li>
  </ul></li>
  
<li><a href="#Debug_Commands">Debug Commands</a>
  
<ul>
    
<li><a href="#verify">verify</a></li>
    
<li><a href="#recoverLease">recoverLease</a></li>
  </ul></li>
</ul>
<div class="section">
<h2><a name="Overview"></a>Overview</h2>
<p>All HDFS commands are invoked by the <tt>bin/hdfs</tt> script. Running the hdfs script without any arguments prints the description for all commands.</p>
<p>Usage: <tt>hdfs [SHELL_OPTIONS] COMMAND [GENERIC_OPTIONS] [COMMAND_OPTIONS]</tt></p>
<p>Hadoop has an option parsing framework that employs parsing generic options as well as running classes.</p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTIONS </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>--config</tt><br /><tt>--loglevel</tt> </td>
      
<td align="left">The common set of shell options. These are documented on the <a href="../../hadoop-project-dist/hadoop-common/CommandsManual.html#Overview">Commands Manual</a> page. </td>
    </tr>
    
<tr class="a">
      
<td align="left">GENERIC_OPTIONS </td>
      
<td align="left">The common set of options supported by multiple commands. See the Hadoop <a href="../../hadoop-project-dist/hadoop-common/CommandsManual.html#Generic_Options">Commands Manual</a> for more information. </td>
    </tr>
    
<tr class="b">
      
<td align="left">COMMAND COMMAND_OPTIONS </td>
      
<td align="left">Various commands with their options are described in the following sections. The commands have been grouped into <a href="#User_Commands">User Commands</a> and <a href="#Administration_Commands">Administration Commands</a>. </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2><a name="User_Commands"></a>User Commands</h2>
<p>Commands useful for users of a hadoop cluster.</p>
<div class="section">
<h3><a name="classpath"></a><tt>classpath</tt></h3>
<p>Usage: <tt>hdfs classpath</tt></p>
<p>Prints the class path needed to get the Hadoop jar and the required libraries</p></div>
<div class="section">
<h3><a name="dfs"></a><tt>dfs</tt></h3>
<p>Usage: <tt>hdfs dfs [COMMAND [COMMAND_OPTIONS]]</tt></p>
<p>Run a filesystem command on the file system supported in Hadoop. The various COMMAND_OPTIONS can be found at <a href="../hadoop-common/FileSystemShell.html">File System Shell Guide</a>.</p></div>
<div class="section">
<h3><a name="fetchdt"></a><tt>fetchdt</tt></h3>
<p>Usage: <tt>hdfs fetchdt [--webservice &lt;namenode_http_addr&gt;] &lt;path&gt;</tt></p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>--webservice</tt> <i>https_address</i> </td>
      
<td align="left">use http protocol instead of RPC </td>
    </tr>
    
<tr class="a">
      
<td align="left"><i>fileName</i> </td>
      
<td align="left">File name to store the token into. </td>
    </tr>
  </tbody>
</table>
<p>Gets Delegation Token from a NameNode. See <a href="./HdfsUserGuide.html#fetchdt">fetchdt</a> for more info.</p></div>
<div class="section">
<h3><a name="fsck"></a><tt>fsck</tt></h3>
<p>Usage:</p>

<div class="source">
<div class="source">
<pre>   hdfs fsck &lt;path&gt;
          [-list-corruptfileblocks |
          [-move | -delete | -openforwrite]
          [-files [-blocks [-locations | -racks]]]
          [-includeSnapshots]
          [-storagepolicies] [-blockId &lt;blk_Id&gt;]
</pre></div></div>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><i>path</i> </td>
      
<td align="left">Start checking from this path. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-delete</tt> </td>
      
<td align="left">Delete corrupted files. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-files</tt> </td>
      
<td align="left">Print out files being checked. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-files</tt> <tt>-blocks</tt> </td>
      
<td align="left">Print out the block report </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-files</tt> <tt>-blocks</tt> <tt>-locations</tt> </td>
      
<td align="left">Print out locations for every block. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-files</tt> <tt>-blocks</tt> <tt>-racks</tt> </td>
      
<td align="left">Print out network topology for data-node locations. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-includeSnapshots</tt> </td>
      
<td align="left">Include snapshot data if the given path indicates a snapshottable directory or there are snapshottable directories under it. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-list-corruptfileblocks</tt> </td>
      
<td align="left">Print out list of missing blocks and files they belong to. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-move</tt> </td>
      
<td align="left">Move corrupted files to /lost+found. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-openforwrite</tt> </td>
      
<td align="left">Print out files opened for write. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-storagepolicies</tt> </td>
      
<td align="left">Print out storage policy summary for the blocks. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-blockId</tt> </td>
      
<td align="left">Print out information about the block. </td>
    </tr>
  </tbody>
</table>
<p>Runs the HDFS filesystem checking utility. See <a href="./HdfsUserGuide.html#fsck">fsck</a> for more info.</p></div>
<div class="section">
<h3><a name="getconf"></a><tt>getconf</tt></h3>
<p>Usage:</p>

<div class="source">
<div class="source">
<pre>   hdfs getconf -namenodes
   hdfs getconf -secondaryNameNodes
   hdfs getconf -backupNodes
   hdfs getconf -includeFile
   hdfs getconf -excludeFile
   hdfs getconf -nnRpcAddresses
   hdfs getconf -confKey [key]
</pre></div></div>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-namenodes</tt> </td>
      
<td align="left">gets list of namenodes in the cluster. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-secondaryNameNodes</tt> </td>
      
<td align="left">gets list of secondary namenodes in the cluster. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-backupNodes</tt> </td>
      
<td align="left">gets list of backup nodes in the cluster. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-includeFile</tt> </td>
      
<td align="left">gets the include file path that defines the datanodes that can join the cluster. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-excludeFile</tt> </td>
      
<td align="left">gets the exclude file path that defines the datanodes that need to decommissioned. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-nnRpcAddresses</tt> </td>
      
<td align="left">gets the namenode rpc addresses </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-confKey</tt> [key] </td>
      
<td align="left">gets a specific key from the configuration </td>
    </tr>
  </tbody>
</table>
<p>Gets configuration information from the configuration directory, post-processing.</p></div>
<div class="section">
<h3><a name="groups"></a><tt>groups</tt></h3>
<p>Usage: <tt>hdfs groups [username ...]</tt></p>
<p>Returns the group information given one or more usernames.</p></div>
<div class="section">
<h3><a name="lsSnapshottableDir"></a><tt>lsSnapshottableDir</tt></h3>
<p>Usage: <tt>hdfs lsSnapshottableDir [-help]</tt></p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-help</tt> </td>
      
<td align="left">print help </td>
    </tr>
  </tbody>
</table>
<p>Get the list of snapshottable directories. When this is run as a super user, it returns all snapshottable directories. Otherwise it returns those directories that are owned by the current user.</p></div>
<div class="section">
<h3><a name="jmxget"></a><tt>jmxget</tt></h3>
<p>Usage: <tt>hdfs jmxget [-localVM ConnectorURL | -port port | -server mbeanserver | -service service]</tt></p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-help</tt> </td>
      
<td align="left">print help </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-localVM</tt> ConnectorURL </td>
      
<td align="left">connect to the VM on the same machine </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-port</tt> <i>mbean server port</i> </td>
      
<td align="left">specify mbean server port, if missing it will try to connect to MBean Server in the same VM </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-service</tt> </td>
      
<td align="left">specify jmx service, either DataNode or NameNode, the default </td>
    </tr>
  </tbody>
</table>
<p>Dump JMX information from a service.</p></div>
<div class="section">
<h3><a name="oev"></a><tt>oev</tt></h3>
<p>Usage: <tt>hdfs oev [OPTIONS] -i INPUT_FILE -o OUTPUT_FILE</tt></p>
<div class="section">
<h4><a name="Required_command_line_arguments:"></a>Required command line arguments:</h4>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-i</tt>,<tt>--inputFile</tt> <i>arg</i> </td>
      
<td align="left">edits file to process, xml (case insensitive) extension means XML format, any other filename means binary format </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-o</tt>,<tt>--outputFile</tt> <i>arg</i> </td>
      
<td align="left">Name of output file. If the specified file exists, it will be overwritten, format of the file is determined by -p option </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h4><a name="Optional_command_line_arguments:"></a>Optional command line arguments:</h4>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-f</tt>,<tt>--fix-txids</tt> </td>
      
<td align="left">Renumber the transaction IDs in the input, so that there are no gaps or invalid transaction IDs. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-h</tt>,<tt>--help</tt> </td>
      
<td align="left">Display usage information and exit </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-r</tt>,<tt>--ecover</tt> </td>
      
<td align="left">When reading binary edit logs, use recovery mode. This will give you the chance to skip corrupt parts of the edit log. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-p</tt>,<tt>--processor</tt> <i>arg</i> </td>
      
<td align="left">Select which type of processor to apply against image file, currently supported processors are: binary (native binary format that Hadoop uses), xml (default, XML format), stats (prints statistics about edits file) </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-v</tt>,<tt>--verbose</tt> </td>
      
<td align="left">More verbose output, prints the input and output filenames, for processors that write to a file, also output to screen. On large image files this will dramatically increase processing time (default is false). </td>
    </tr>
  </tbody>
</table>
<p>Hadoop offline edits viewer.</p></div></div>
<div class="section">
<h3><a name="oiv"></a><tt>oiv</tt></h3>
<p>Usage: <tt>hdfs oiv [OPTIONS] -i INPUT_FILE</tt></p>
<div class="section">
<h4><a name="Required_command_line_arguments:"></a>Required command line arguments:</h4>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-i</tt>,<tt>--inputFile</tt> <i>arg</i> </td>
      
<td align="left">edits file to process, xml (case insensitive) extension means XML format, any other filename means binary format </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h4><a name="Optional_command_line_arguments:"></a>Optional command line arguments:</h4>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-h</tt>,<tt>--help</tt> </td>
      
<td align="left">Display usage information and exit </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-o</tt>,<tt>--outputFile</tt> <i>arg</i> </td>
      
<td align="left">Name of output file. If the specified file exists, it will be overwritten, format of the file is determined by -p option </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-p</tt>,<tt>--processor</tt> <i>arg</i> </td>
      
<td align="left">Select which type of processor to apply against image file, currently supported processors are: binary (native binary format that Hadoop uses), xml (default, XML format), stats (prints statistics about edits file) </td>
    </tr>
  </tbody>
</table>
<p>Hadoop Offline Image Viewer for newer image files.</p></div></div>
<div class="section">
<h3><a name="oiv_legacy"></a><tt>oiv_legacy</tt></h3>
<p>Usage: <tt>hdfs oiv_legacy [OPTIONS] -i INPUT_FILE -o OUTPUT_FILE</tt></p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-h</tt>,<tt>--help</tt> </td>
      
<td align="left">Display usage information and exit </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-i</tt>,<tt>--inputFile</tt> <i>arg</i> </td>
      
<td align="left">edits file to process, xml (case insensitive) extension means XML format, any other filename means binary format </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-o</tt>,<tt>--outputFile</tt> <i>arg</i> </td>
      
<td align="left">Name of output file. If the specified file exists, it will be overwritten, format of the file is determined by -p option </td>
    </tr>
  </tbody>
</table>
<p>Hadoop offline image viewer for older versions of Hadoop.</p></div>
<div class="section">
<h3><a name="snapshotDiff"></a><tt>snapshotDiff</tt></h3>
<p>Usage: <tt>hdfs snapshotDiff &lt;path&gt; &lt;fromSnapshot&gt; &lt;toSnapshot&gt;</tt></p>
<p>Determine the difference between HDFS snapshots. See the <a href="./HdfsSnapshots.html#Get_Snapshots_Difference_Report">HDFS Snapshot Documentation</a> for more information.</p></div>
<div class="section">
<h3><a name="version"></a><tt>version</tt></h3>
<p>Usage: <tt>hdfs version</tt></p>
<p>Prints the version.</p></div></div>
<div class="section">
<h2><a name="Administration_Commands"></a>Administration Commands</h2>
<p>Commands useful for administrators of a hadoop cluster.</p>
<div class="section">
<h3><a name="balancer"></a><tt>balancer</tt></h3>
<p>Usage:</p>

<div class="source">
<div class="source">
<pre>    hdfs balancer
          [-threshold &lt;threshold&gt;]
          [-policy &lt;policy&gt;]
          [-exclude [-f &lt;hosts-file&gt; | &lt;comma-separated list of hosts&gt;]]
          [-include [-f &lt;hosts-file&gt; | &lt;comma-separated list of hosts&gt;]]
          [-idleiterations &lt;idleiterations&gt;]
</pre></div></div>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-policy</tt> &lt;policy&gt; </td>
      
<td align="left"><tt>datanode</tt> (default): Cluster is balanced if each datanode is balanced.<br /> <tt>blockpool</tt>: Cluster is balanced if each block pool in each datanode is balanced. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-threshold</tt> &lt;threshold&gt; </td>
      
<td align="left">Percentage of disk capacity. This overwrites the default threshold. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-exclude -f</tt> &lt;hosts-file&gt; | &lt;comma-separated list of hosts&gt; </td>
      
<td align="left">Excludes the specified datanodes from being balanced by the balancer. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-include -f</tt> &lt;hosts-file&gt; | &lt;comma-separated list of hosts&gt; </td>
      
<td align="left">Includes only the specified datanodes to be balanced by the balancer. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-idleiterations</tt> &lt;iterations&gt; </td>
      
<td align="left">Maximum number of idle iterations before exit. This overwrites the default idleiterations(5). </td>
    </tr>
  </tbody>
</table>
<p>Runs a cluster balancing utility. An administrator can simply press Ctrl-C to stop the rebalancing process. See <a href="./HdfsUserGuide.html#Balancer">Balancer</a> for more details.</p>
<p>Note that the <tt>blockpool</tt> policy is more strict than the <tt>datanode</tt> policy.</p></div>
<div class="section">
<h3><a name="cacheadmin"></a><tt>cacheadmin</tt></h3>
<p>Usage: <tt>hdfs cacheadmin -addDirective -path &lt;path&gt; -pool &lt;pool-name&gt; [-force] [-replication &lt;replication&gt;] [-ttl &lt;time-to-live&gt;]</tt></p>
<p>See the <a href="./CentralizedCacheManagement.html#cacheadmin_command-line_interface">HDFS Cache Administration Documentation</a> for more information.</p></div>
<div class="section">
<h3><a name="crypto"></a><tt>crypto</tt></h3>
<p>Usage:</p>

<div class="source">
<div class="source">
<pre>  hdfs crypto -createZone -keyName &lt;keyName&gt; -path &lt;path&gt;
  hdfs crypto -help &lt;command-name&gt;
  hdfs crypto -listZones
</pre></div></div>
<p>See the <a href="./TransparentEncryption.html#crypto_command-line_interface">HDFS Transparent Encryption Documentation</a> for more information.</p></div>
<div class="section">
<h3><a name="datanode"></a><tt>datanode</tt></h3>
<p>Usage: <tt>hdfs datanode [-regular | -rollback | -rollingupgrace rollback]</tt></p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-regular</tt> </td>
      
<td align="left">Normal datanode startup (default). </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-rollback</tt> </td>
      
<td align="left">Rollback the datanode to the previous version. This should be used after stopping the datanode and distributing the old hadoop version. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-rollingupgrade</tt> rollback </td>
      
<td align="left">Rollback a rolling upgrade operation. </td>
    </tr>
  </tbody>
</table>
<p>Runs a HDFS datanode.</p></div>
<div class="section">
<h3><a name="dfsadmin"></a><tt>dfsadmin</tt></h3>
<p>Usage:</p>

<div class="source">
<div class="source">
<pre>    hdfs dfsadmin [GENERIC_OPTIONS]
          [-report [-live] [-dead] [-decommissioning]]
          [-safemode enter | leave | get | wait]
          [-saveNamespace]
          [-rollEdits]
          [-restoreFailedStorage true |false |check]
          [-refreshNodes]
          [-setQuota &lt;quota&gt; &lt;dirname&gt;...&lt;dirname&gt;]
          [-clrQuota &lt;dirname&gt;...&lt;dirname&gt;]
          [-setSpaceQuota &lt;quota&gt; &lt;dirname&gt;...&lt;dirname&gt;]
          [-clrSpaceQuota &lt;dirname&gt;...&lt;dirname&gt;]
          [-setStoragePolicy &lt;path&gt; &lt;policyName&gt;]
          [-getStoragePolicy &lt;path&gt;]
          [-finalizeUpgrade]
          [-rollingUpgrade [&lt;query&gt; |&lt;prepare&gt; |&lt;finalize&gt;]]
          [-metasave filename]
          [-refreshServiceAcl]
          [-refreshUserToGroupsMappings]
          [-refreshSuperUserGroupsConfiguration]
          [-refreshCallQueue]
          [-refresh &lt;host:ipc_port&gt; &lt;key&gt; [arg1..argn]]
          [-reconfig &lt;datanode |...&gt; &lt;host:ipc_port&gt; &lt;start |status&gt;]
          [-printTopology]
          [-refreshNamenodes datanodehost:port]
          [-deleteBlockPool datanode-host:port blockpoolId [force]]
          [-setBalancerBandwidth &lt;bandwidth in bytes per second&gt;]
          [-allowSnapshot &lt;snapshotDir&gt;]
          [-disallowSnapshot &lt;snapshotDir&gt;]
          [-fetchImage &lt;local directory&gt;]
          [-shutdownDatanode &lt;datanode_host:ipc_port&gt; [upgrade]]
          [-getDatanodeInfo &lt;datanode_host:ipc_port&gt;]
          [-triggerBlockReport [-incremental] &lt;datanode_host:ipc_port&gt;]
          [-help [cmd]]
</pre></div></div>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-report</tt> <tt>[-live]</tt> <tt>[-dead]</tt> <tt>[-decommissioning]</tt> </td>
      
<td align="left">Reports basic filesystem information and statistics. Optional flags may be used to filter the list of displayed DataNodes. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-safemode</tt> enter|leave|get|wait </td>
      
<td align="left">Safe mode maintenance command. Safe mode is a Namenode state in which it <br />1. does not accept changes to the name space (read-only) <br />2. does not replicate or delete blocks. <br />Safe mode is entered automatically at Namenode startup, and leaves safe mode automatically when the configured minimum percentage of blocks satisfies the minimum replication condition. Safe mode can also be entered manually, but then it can only be turned off manually as well. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-saveNamespace</tt> </td>
      
<td align="left">Save current namespace into storage directories and reset edits log. Requires safe mode. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-rollEdits</tt> </td>
      
<td align="left">Rolls the edit log on the active NameNode. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-restoreFailedStorage</tt> true|false|check </td>
      
<td align="left">This option will turn on/off automatic attempt to restore failed storage replicas. If a failed storage becomes available again the system will attempt to restore edits and/or fsimage during checkpoint. &#x2018;check&#x2019; option will return current setting. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-refreshNodes</tt> </td>
      
<td align="left">Re-read the hosts and exclude files to update the set of Datanodes that are allowed to connect to the Namenode and those that should be decommissioned or recommissioned. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-setQuota</tt> &lt;quota&gt; &lt;dirname&gt;&#x2026;&lt;dirname&gt; </td>
      
<td align="left">See <a href="../hadoop-hdfs/HdfsQuotaAdminGuide.html#Administrative_Commands">HDFS Quotas Guide</a> for the detail. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-clrQuota</tt> &lt;dirname&gt;&#x2026;&lt;dirname&gt; </td>
      
<td align="left">See <a href="../hadoop-hdfs/HdfsQuotaAdminGuide.html#Administrative_Commands">HDFS Quotas Guide</a> for the detail. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-setSpaceQuota</tt> &lt;quota&gt; &lt;dirname&gt;&#x2026;&lt;dirname&gt; </td>
      
<td align="left">See <a href="../hadoop-hdfs/HdfsQuotaAdminGuide.html#Administrative_Commands">HDFS Quotas Guide</a> for the detail. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-clrSpaceQuota</tt> &lt;dirname&gt;&#x2026;&lt;dirname&gt; </td>
      
<td align="left">See <a href="../hadoop-hdfs/HdfsQuotaAdminGuide.html#Administrative_Commands">HDFS Quotas Guide</a> for the detail. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-setStoragePolicy</tt> &lt;path&gt; &lt;policyName&gt; </td>
      
<td align="left">Set a storage policy to a file or a directory. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-getStoragePolicy</tt> &lt;path&gt; </td>
      
<td align="left">Get the storage policy of a file or a directory. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-finalizeUpgrade</tt> </td>
      
<td align="left">Finalize upgrade of HDFS. Datanodes delete their previous version working directories, followed by Namenode doing the same. This completes the upgrade process. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-rollingUpgrade</tt> [&lt;query&gt;|&lt;prepare&gt;|&lt;finalize&gt;] </td>
      
<td align="left">See <a href="../hadoop-hdfs/HdfsRollingUpgrade.html#dfsadmin_-rollingUpgrade">Rolling Upgrade document</a> for the detail. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-metasave</tt> filename </td>
      
<td align="left">Save Namenode&#x2019;s primary data structures to <i>filename</i> in the directory specified by hadoop.log.dir property. <i>filename</i> is overwritten if it exists. <i>filename</i> will contain one line for each of the following<br />1. Datanodes heart beating with Namenode<br />2. Blocks waiting to be replicated<br />3. Blocks currently being replicated<br />4. Blocks waiting to be deleted </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-refreshServiceAcl</tt> </td>
      
<td align="left">Reload the service-level authorization policy file. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-refreshUserToGroupsMappings</tt> </td>
      
<td align="left">Refresh user-to-groups mappings. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-refreshSuperUserGroupsConfiguration</tt> </td>
      
<td align="left">Refresh superuser proxy groups mappings </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-refreshCallQueue</tt> </td>
      
<td align="left">Reload the call queue from config. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-refresh</tt> &lt;host:ipc_port&gt; &lt;key&gt; [arg1..argn] </td>
      
<td align="left">Triggers a runtime-refresh of the resource specified by &lt;key&gt; on &lt;host:ipc_port&gt;. All other args after are sent to the host. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-reconfig</tt> &lt;datanode |&#x2026;&gt; &lt;host:ipc_port&gt; &lt;start|status&gt; </td>
      
<td align="left">Start reconfiguration or get the status of an ongoing reconfiguration. The second parameter specifies the node type. Currently, only reloading DataNode&#x2019;s configuration is supported. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-printTopology</tt> </td>
      
<td align="left">Print a tree of the racks and their nodes as reported by the Namenode </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-refreshNamenodes</tt> datanodehost:port </td>
      
<td align="left">For the given datanode, reloads the configuration files, stops serving the removed block-pools and starts serving new block-pools. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-deleteBlockPool</tt> datanode-host:port blockpoolId [force] </td>
      
<td align="left">If force is passed, block pool directory for the given blockpool id on the given datanode is deleted along with its contents, otherwise the directory is deleted only if it is empty. The command will fail if datanode is still serving the block pool. Refer to refreshNamenodes to shutdown a block pool service on a datanode. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-setBalancerBandwidth</tt> &lt;bandwidth in bytes per second&gt; </td>
      
<td align="left">Changes the network bandwidth used by each datanode during HDFS block balancing. &lt;bandwidth&gt; is the maximum number of bytes per second that will be used by each datanode. This value overrides the dfs.balance.bandwidthPerSec parameter.&#xa0;NOTE: The new value is not persistent on the DataNode. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-allowSnapshot</tt> &lt;snapshotDir&gt; </td>
      
<td align="left">Allowing snapshots of a directory to be created. If the operation completes successfully, the directory becomes snapshottable. See the <a href="./HdfsSnapshots.html">HDFS Snapshot Documentation</a> for more information. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-disallowSnapshot</tt> &lt;snapshotDir&gt; </td>
      
<td align="left">Disallowing snapshots of a directory to be created. All snapshots of the directory must be deleted before disallowing snapshots. See the <a href="./HdfsSnapshots.html">HDFS Snapshot Documentation</a> for more information. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-fetchImage</tt> &lt;local directory&gt; </td>
      
<td align="left">Downloads the most recent fsimage from the NameNode and saves it in the specified local directory. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-shutdownDatanode</tt> &lt;datanode_host:ipc_port&gt; [upgrade] </td>
      
<td align="left">Submit a shutdown request for the given datanode. See <a href="./HdfsRollingUpgrade.html#dfsadmin_-shutdownDatanode">Rolling Upgrade document</a> for the detail. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-getDatanodeInfo</tt> &lt;datanode_host:ipc_port&gt; </td>
      
<td align="left">Get the information about the given datanode. See <a href="./HdfsRollingUpgrade.html#dfsadmin_-getDatanodeInfo">Rolling Upgrade document</a> for the detail. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-triggerBlockReport</tt> <tt>[-incremental]</tt> &lt;datanode_host:ipc_port&gt; </td>
      
<td align="left">Trigger a block report for the given datanode. If &#x2018;incremental&#x2019; is specified, it will be otherwise, it will be a full block report. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-help</tt> [cmd] </td>
      
<td align="left">Displays help for the given command or all commands if none is specified. </td>
    </tr>
  </tbody>
</table>
<p>Runs a HDFS dfsadmin client.</p></div>
<div class="section">
<h3><a name="haadmin"></a><tt>haadmin</tt></h3>
<p>Usage:</p>

<div class="source">
<div class="source">
<pre>    hdfs haadmin -checkHealth &lt;serviceId&gt;
    hdfs haadmin -failover [--forcefence] [--forceactive] &lt;serviceId&gt; &lt;serviceId&gt;
    hdfs haadmin -getServiceState &lt;serviceId&gt;
    hdfs haadmin -help &lt;command&gt;
    hdfs haadmin -transitionToActive &lt;serviceId&gt; [--forceactive]
    hdfs haadmin -transitionToStandby &lt;serviceId&gt;
</pre></div></div>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-checkHealth</tt> </td>
      
<td align="left">check the health of the given NameNode </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-failover</tt> </td>
      
<td align="left">initiate a failover between two NameNodes </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-getServiceState</tt> </td>
      
<td align="left">determine whether the given NameNode is Active or Standby </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-transitionToActive</tt> </td>
      
<td align="left">transition the state of the given NameNode to Active (Warning: No fencing is done) </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-transitionToStandby</tt> </td>
      
<td align="left">transition the state of the given NameNode to Standby (Warning: No fencing is done) </td>
    </tr>
  </tbody>
</table>
<p>See <a href="./HDFSHighAvailabilityWithNFS.html#Administrative_commands">HDFS HA with NFS</a> or <a href="./HDFSHighAvailabilityWithQJM.html#Administrative_commands">HDFS HA with QJM</a> for more information on this command.</p></div>
<div class="section">
<h3><a name="journalnode"></a><tt>journalnode</tt></h3>
<p>Usage: <tt>hdfs journalnode</tt></p>
<p>This comamnd starts a journalnode for use with <a href="./HDFSHighAvailabilityWithQJM.html#Administrative_commands">HDFS HA with QJM</a>.</p></div>
<div class="section">
<h3><a name="mover"></a><tt>mover</tt></h3>
<p>Usage: <tt>hdfs mover [-p &lt;files/dirs&gt; | -f &lt;local file name&gt;]</tt></p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-f</tt> &lt;local file&gt; </td>
      
<td align="left">Specify a local file containing a list of HDFS files/dirs to migrate. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-p</tt> &lt;files/dirs&gt; </td>
      
<td align="left">Specify a space separated list of HDFS files/dirs to migrate. </td>
    </tr>
  </tbody>
</table>
<p>Runs the data migration utility. See <a href="./ArchivalStorage.html#Mover_-_A_New_Data_Migration_Tool">Mover</a> for more details.</p>
<p>Note that, when both -p and -f options are omitted, the default path is the root directory.</p></div>
<div class="section">
<h3><a name="namenode"></a><tt>namenode</tt></h3>
<p>Usage:</p>

<div class="source">
<div class="source">
<pre>  hdfs namenode [-backup] |
          [-checkpoint] |
          [-format [-clusterid cid ] [-force] [-nonInteractive] ] |
          [-upgrade [-clusterid cid] [-renameReserved&lt;k-v pairs&gt;] ] |
          [-upgradeOnly [-clusterid cid] [-renameReserved&lt;k-v pairs&gt;] ] |
          [-rollback] |
          [-rollingUpgrade &lt;downgrade |rollback&gt; ] |
          [-finalize] |
          [-importCheckpoint] |
          [-initializeSharedEdits] |
          [-bootstrapStandby] |
          [-recover [-force] ] |
          [-metadataVersion ]
</pre></div></div>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-backup</tt> </td>
      
<td align="left">Start backup node. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-checkpoint</tt> </td>
      
<td align="left">Start checkpoint node. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-format</tt> <tt>[-clusterid cid]</tt> <tt>[-force]</tt> <tt>[-nonInteractive]</tt> </td>
      
<td align="left">Formats the specified NameNode. It starts the NameNode, formats it and then shut it down. -force option formats if the name directory exists. -nonInteractive option aborts if the name directory exists, unless -force option is specified. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-upgrade</tt> <tt>[-clusterid cid]</tt> [<tt>-renameReserved</tt> &lt;k-v pairs&gt;] </td>
      
<td align="left">Namenode should be started with upgrade option after the distribution of new Hadoop version. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-upgradeOnly</tt> <tt>[-clusterid cid]</tt> [<tt>-renameReserved</tt> &lt;k-v pairs&gt;] </td>
      
<td align="left">Upgrade the specified NameNode and then shutdown it. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-rollback</tt> </td>
      
<td align="left">Rollback the NameNode to the previous version. This should be used after stopping the cluster and distributing the old Hadoop version. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-rollingUpgrade</tt> &lt;downgrade|rollback|started&gt; </td>
      
<td align="left">See <a href="./HdfsRollingUpgrade.html#NameNode_Startup_Options">Rolling Upgrade document</a> for the detail. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-finalize</tt> </td>
      
<td align="left">Finalize will remove the previous state of the files system. Recent upgrade will become permanent. Rollback option will not be available anymore. After finalization it shuts the NameNode down. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-importCheckpoint</tt> </td>
      
<td align="left">Loads image from a checkpoint directory and save it into the current one. Checkpoint dir is read from property fs.checkpoint.dir </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-initializeSharedEdits</tt> </td>
      
<td align="left">Format a new shared edits dir and copy in enough edit log segments so that the standby NameNode can start up. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-bootstrapStandby</tt> </td>
      
<td align="left">Allows the standby NameNode&#x2019;s storage directories to be bootstrapped by copying the latest namespace snapshot from the active NameNode. This is used when first configuring an HA cluster. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-recover</tt> <tt>[-force]</tt> </td>
      
<td align="left">Recover lost metadata on a corrupt filesystem. See <a href="./HdfsUserGuide.html#Recovery_Mode">HDFS User Guide</a> for the detail. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-metadataVersion</tt> </td>
      
<td align="left">Verify that configured directories exist, then print the metadata versions of the software and the image. </td>
    </tr>
  </tbody>
</table>
<p>Runs the namenode. More info about the upgrade, rollback and finalize is at <a href="./HdfsUserGuide.html#Upgrade_and_Rollback">Upgrade Rollback</a>.</p></div>
<div class="section">
<h3><a name="nfs3"></a><tt>nfs3</tt></h3>
<p>Usage: <tt>hdfs nfs3</tt></p>
<p>This comamnd starts the NFS3 gateway for use with the <a href="./HdfsNfsGateway.html#Start_and_stop_NFS_gateway_service">HDFS NFS3 Service</a>.</p></div>
<div class="section">
<h3><a name="portmap"></a><tt>portmap</tt></h3>
<p>Usage: <tt>hdfs portmap</tt></p>
<p>This comamnd starts the RPC portmap for use with the <a href="./HdfsNfsGateway.html#Start_and_stop_NFS_gateway_service">HDFS NFS3 Service</a>.</p></div>
<div class="section">
<h3><a name="secondarynamenode"></a><tt>secondarynamenode</tt></h3>
<p>Usage: <tt>hdfs secondarynamenode [-checkpoint [force]] | [-format] | [-geteditsize]</tt></p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-checkpoint</tt> [force] </td>
      
<td align="left">Checkpoints the SecondaryNameNode if EditLog size &gt;= fs.checkpoint.size. If <tt>force</tt> is used, checkpoint irrespective of EditLog size. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-format</tt> </td>
      
<td align="left">Format the local storage during startup. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>-geteditsize</tt> </td>
      
<td align="left">Prints the number of uncheckpointed transactions on the NameNode. </td>
    </tr>
  </tbody>
</table>
<p>Runs the HDFS secondary namenode. See <a href="./HdfsUserGuide.html#Secondary_NameNode">Secondary Namenode</a> for more info.</p></div>
<div class="section">
<h3><a name="storagepolicies"></a><tt>storagepolicies</tt></h3>
<p>Usage: <tt>hdfs storagepolicies</tt></p>
<p>Lists out all storage policies. See the <a href="./ArchivalStorage.html">HDFS Storage Policy Documentation</a> for more information.</p></div>
<div class="section">
<h3><a name="zkfc"></a><tt>zkfc</tt></h3>
<p>Usage: <tt>hdfs zkfc [-formatZK [-force] [-nonInteractive]]</tt></p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-formatZK</tt> </td>
      
<td align="left">Format the Zookeeper instance </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-h</tt> </td>
      
<td align="left">Display help </td>
    </tr>
  </tbody>
</table>
<p>This comamnd starts a Zookeeper Failover Controller process for use with <a href="./HDFSHighAvailabilityWithQJM.html#Administrative_commands">HDFS HA with QJM</a>.</p></div></div>
<div class="section">
<h2><a name="Debug_Commands"></a>Debug Commands</h2>
<p>Useful commands to help administrators debug HDFS issues, like validating block files and calling recoverLease.</p>
<div class="section">
<h3><a name="verify"></a><tt>verify</tt></h3>
<p>Usage: <tt>hdfs debug verify [-meta &lt;metadata-file&gt;] [-block &lt;block-file&gt;]</tt></p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>-block</tt> <i>block-file</i> </td>
      
<td align="left">Optional parameter to specify the absolute path for the block file on the local file system of the data node. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>-meta</tt> <i>metadata-file</i> </td>
      
<td align="left">Absolute path for the metadata file on the local file system of the data node. </td>
    </tr>
  </tbody>
</table>
<p>Verify HDFS metadata and block files. If a block file is specified, we will verify that the checksums in the metadata file match the block file.</p></div>
<div class="section">
<h3><a name="recoverLease"></a><tt>recoverLease</tt></h3>
<p>Usage: <tt>hdfs debug recoverLease [-path &lt;path&gt;] [-retries &lt;num-retries&gt;]</tt></p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">COMMAND_OPTION </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left">[<tt>-path</tt> <i>path</i>] </td>
      
<td align="left">HDFS path for which to recover the lease. </td>
    </tr>
    
<tr class="a">
      
<td align="left">[<tt>-retries</tt> <i>num-retries</i>] </td>
      
<td align="left">Number of times the client will retry calling recoverLease. The default number of retries is 1. </td>
    </tr>
  </tbody>
</table>
<p>Recover the lease on the specified path. The path must reside on an HDFS filesystem. The default number of retries is 1.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;            2016
              Apache Software Foundation
            
                       - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a></div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
